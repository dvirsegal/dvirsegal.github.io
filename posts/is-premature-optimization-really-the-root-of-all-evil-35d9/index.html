<!DOCTYPE html>
<html lang="en">

<head>
  <title>
  Is premature optimization really the root of all evil? · Dvir Segal&#39;s blog
</title>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">




<meta name="author" content="Dvir Segal">
<meta name="description" content="First, make it right. Then make it fast.Link to headingPremature Optimization
Back in the seventies, Knuth wrote the above quote in his paper “Structured Programming with go to Statement” at times when computational power was slower and expensive than nowadays. Nevertheless, it doesn’t mean you shouldn’t take it in your consideration. Note that the quote doesn&rsquo;t stand for itself, and to get its true meaning, you should read the paragraph that follows this famous saying:">
<meta name="keywords" content="blog,developer,personal">

<meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Is premature optimization really the root of all evil?"/>
<meta name="twitter:description" content="First, make it right. Then make it fast.Link to headingPremature Optimization
Back in the seventies, Knuth wrote the above quote in his paper “Structured Programming with go to Statement” at times when computational power was slower and expensive than nowadays. Nevertheless, it doesn’t mean you shouldn’t take it in your consideration. Note that the quote doesn&rsquo;t stand for itself, and to get its true meaning, you should read the paragraph that follows this famous saying:"/>

<meta property="og:title" content="Is premature optimization really the root of all evil?" />
<meta property="og:description" content="First, make it right. Then make it fast.Link to headingPremature Optimization
Back in the seventies, Knuth wrote the above quote in his paper “Structured Programming with go to Statement” at times when computational power was slower and expensive than nowadays. Nevertheless, it doesn’t mean you shouldn’t take it in your consideration. Note that the quote doesn&rsquo;t stand for itself, and to get its true meaning, you should read the paragraph that follows this famous saying:" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://dvirsegal.github.io/posts/is-premature-optimization-really-the-root-of-all-evil-35d9/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-01-06T00:00:00+00:00" />
<meta property="article:modified_time" content="2021-01-06T00:00:00+00:00" />





<link rel="canonical" href="https://medium.com/@dvirsegal/is-premature-optimization-really-the-root-of-all-evil-50315acdf359">


<link rel="preload" href="/fonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="/css/coder.min.577e3c5ead537873430da16f0964b754a120fd87c4e2203a00686e7c75b51378.css" integrity="sha256-V348Xq1TeHNDDaFvCWS3VKEg/YfE4iA6AGhufHW1E3g=" crossorigin="anonymous" media="screen" />






  
    
    
    <link rel="stylesheet" href="/css/coder-dark.min.a00e6364bacbc8266ad1cc81230774a1397198f8cfb7bcba29b7d6fcb54ce57f.css" integrity="sha256-oA5jZLrLyCZq0cyBIwd0oTlxmPjPt7y6KbfW/LVM5X8=" crossorigin="anonymous" media="screen" />
  



 
  
    
    <link rel="stylesheet" href="/css/custom.min.0c266ef02d8b41f01746f0dd720ba3e239e36a974a63641bee33b0bdddb6b287.css" integrity="sha256-DCZu8C2LQfAXRvDdcguj4jnjapdKY2Qb7jOwvd22soc=" crossorigin="anonymous" media="screen" />
  

  
    
    <link rel="stylesheet" href="/css/font.min.227f65169235f7e8ae52f7f3199c2b98c67c043c04c31c46e7b18bb3f78c2bfd.css" integrity="sha256-In9lFpI19&#43;iuUvfzGZwrmMZ8BDwEwxxG57GLs/eMK/0=" crossorigin="anonymous" media="screen" />
  





<link rel="icon" type="image/svg+xml" href="/images/favicon.svg" sizes="any">
<link rel="icon" type="image/png" href="/images/dvir_animated.png" sizes="32x32">
<link rel="icon" type="image/png" href="/images/dvir_animated.png" sizes="16x16">

<link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">









</head>






<body class="preload-transitions colorscheme-auto">
  
<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
</div>


  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="/">
      Dvir Segal&#39;s blog
    </a>
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa-solid fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link " href="/posts/">Blog</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/about/">About</a>
            </li>
          
        
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="http://dvirsegal.github.io/posts/is-premature-optimization-really-the-root-of-all-evil-35d9/">
              Is premature optimization really the root of all evil?
            </a>
          </h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fa-solid fa-calendar" aria-hidden="true"></i>
              <time datetime="2021-01-06T00:00:00Z">
                January 6, 2021
              </time>
            </span>
            <span class="reading-time">
              <i class="fa-solid fa-clock" aria-hidden="true"></i>
              3-minute read
            </span>
          </div>
          <div class="authors">
  <i class="fa-solid fa-user" aria-hidden="true"></i>
    <a href="/authors/dvir-segal/">Dvir Segal</a></div>

          
          <div class="tags">
  <i class="fa-solid fa-tag" aria-hidden="true"></i>
    <span class="tag">
      <a href="/tags/softwaredesign/">softwaredesign</a>
    </span>
      <span class="separator">•</span>
    <span class="tag">
      <a href="/tags/softwareengineering/">softwareengineering</a>
    </span>
      <span class="separator">•</span>
    <span class="tag">
      <a href="/tags/softwaredevelopment/">softwaredevelopment</a>
    </span>
      <span class="separator">•</span>
    <span class="tag">
      <a href="/tags/optimization/">optimization</a>
    </span></div>

        </div>
      </header>

      <div class="post-content">
        
          <img src="https://cdn-images-1.medium.com/max/1024/0*Fi1YzQoylzDTEBBH" alt="Featured image"/>
        
        <h4 id="first-make-it-right-then-make-it-fast">
  First, make it right. Then make it fast.
  <a class="heading-link" href="#first-make-it-right-then-make-it-fast">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>




<div style="text-align: center;">
    <img src="https://cdn-images-1.medium.com/max/600/0*Rpzv4eSwg2GmgJoM.jpg" alt="Premature Optimization" style="display: block; margin: 0 auto;" />
    <p style="margin: 0; text-align: center;"><em>Premature Optimization</em></p>
</div>

<p>Back in the seventies, Knuth wrote the above quote in his paper “<a href="https://dl.acm.org/doi/abs/10.1145/356635.356640"  class="external-link" target="_blank" rel="noopener">Structured Programming with go to Statement</a>” at times when computational power was slower and expensive than nowadays. Nevertheless, it doesn’t mean you shouldn’t take it in your consideration. Note that the quote doesn&rsquo;t stand for itself, and to get its true meaning, you should read the paragraph that follows this famous saying:</p>
<blockquote>
<p>Yet we should not pass up our opportunities in that critical 3%. A good programmer will not be lulled into complacency by such reasoning, he will be wise to look carefully at the critical code; but only after that code has been identified. It is often a mistake to make a priori judgments about what parts of a program are really critical, since the universal experience of programmers who have been using measurement tools has been that their intuitive guesses fail.</p>
</blockquote>




<div style="text-align: center;">
    <img src="https://media.giphy.com/media/9l6D0qQALI7zXaBzHs/giphy-downsized-large.gif" alt="Good Measure" style="display: block; margin: 0 auto;" />
    <p style="margin: 0; text-align: center;"><em>Good Measure</em></p>
</div>

<p>To me, what it really means, there are obvious optimizations (like not doing string concatenation inside a loop). Still, anything that isn’t a trivially clear optimization should be avoided until it can be <strong>measured</strong>. Failed to do so can introduce unexpected bugs and can result in high efforts to overcome them.</p>
<p>That being said, measurements can lie. Focusing on hot-paths and optimizing them might cause you to miss that it is a symptom of poorly designed code. There is a simple solution: be sure to <strong>design first</strong>. Thus, a more holistic approach will be finding those places that don’t correlate with your design and adjust them accordingly.</p>
<p>Note that until you‘ve written code that you can measure, you’ll have to make some performance decisions before anything exists. Sometimes these decisions are difficult to change if you get them wrong. For this reason, it’s good to have a general idea of what things cost, so you can make reasonable decisions when no hard data is available.</p>
<p>



<div style="text-align: center;">
    <img src="https://cdn-images-1.medium.com/max/284/0*HHXKvXzYdfVn_M50.png" alt="Premature Optimization" style="display: block; margin: 0 auto;" />
    <p style="margin: 0; text-align: center;"><em>Premature Optimization</em></p>
</div>

Furthermore, I saw cases that premature optimization was used (or abused) as an argument for not designing your entire application architecture to run fast in general, scale, and be easily optimizable—basically, an excuse not to optimize code at all. Don’t be confused. Designing a solution is your engineering responsibility.</p>
<p>How early to optimize and how much to worry about performance depends on the task. When writing a script that runs a few times and only by you, I would worry less about performance. But if you work on a service with many users and will be used in different ways — be sure to optimize to cover all the diverse use cases efficiently.</p>
<p>However, a balance must be struck between performance and readability, maintainability, elegance, extensibility, and so on.</p>
<p><strong>To Wrap up</strong></p>
<p>Slow performance can’t be blamed on the language or tool or CPU or memory. It’s a delicate balance of so many things, which is why it’s nearly impossible to optimize early.</p>
<p>The developer has to balance between design and optimization. To my understanding, he should design first, code, and profile it to see which parts should be optimized, and do it iteratively. <a href="https://stackoverflow.com/questions/926266/performance-optimization-strategies-of-last-resort/927773#927773"  class="external-link" target="_blank" rel="noopener">Here’s a great example</a>.</p>
<p>A simple and elegant design is often easier to optimize at these earlier stages, and profiling may reveal unexpected performance problems that would not have been addressed by premature optimization.</p>

      </div>


      <footer>
        


        
        
        
        
        

        
      </footer>
    </article>

    
  </section>

    </div>

    <footer class="footer">
  <section class="container">
    ©
    
      2019 -
    
    2024
     Dvir Segal 
    ·
    
    Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/" target="_blank" rel="noopener">Coder</a>.
    
  </section>
</footer>

  </main>

  

  
  
  <script src="/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js" integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script>
  

  

  


  

  

  

  <script data-goatcounter="https://dvirsegal.goatcounter.com/count"
        async src="//gc.zgo.at/count.js"></script>


  

  

  

  

  

  

  

  

  

  

  
</body>

</html>
